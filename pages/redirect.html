<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
    <title>Redirect</title>

    {meta}
</head>

<body>
    {nav}

    <main>
        <h1 id="title">Redirect</h1>

        <p>Redirecting to&nbsp;<a id="url"></a>&nbsp;in&nbsp;<span id="countdown">5</span>..</p>

        <script>
            var params = new URLSearchParams(window.location.search)

            var title = params.get("title")
            document.title = "Redirect to " + title
            document.getElementById("title").innerHTML = title

            var url = params.get("url")
            document.getElementById("url").innerHTML = url
            document.getElementById("url").href = url

            if (localStorage.getItem("autoredirect") == "true") window.location.replace(url)

            var countdown = 5
            var element = document.getElementById("countdown")

            setInterval(() => {
                if (countdown == 0) return

                countdown--

                element.innerHTML = countdown

                if (countdown == 0) window.location.replace(url)
            }, 1000)
        </script>
    </main>

    {global}
</body>

</html>
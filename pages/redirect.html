<!DOCTYPE html>
<html>

<head>
    <title>Redirect</title>

    {metaNoCanonical}
</head>

<body>
    {nav}

    <main>
        <h1 id="title">Redirect</h1>

        <p>Redirecting to <a id="url"></a> in <span id="countdown">5</span>..</p>

        <script>
            var params = new URLSearchParams(window.location.search)

            var title = params.get("title")
            document.title = "Redirect to " + title
            document.getElementById("title").innerHTML = title

            var url = params.get("url")
            document.getElementById("url").innerHTML = url
            document.getElementById("url").href = url

            if (localStorage.getItem("quickRedirect") == "true") {
                window.location.replace(url)
            } else {
                var countdown = 5

                setInterval(() => {
                    countdown--

                    document.getElementById("countdown").innerHTML = countdown

                    if (countdown == 0) {
                        window.location.replace(url)
                    }
                }, 1000)
            }
        </script>
    </main>

    {global}
</body>

</html>
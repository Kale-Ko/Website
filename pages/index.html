<!DOCTYPE html>
<meta charset="UTF-8">
<html lang="en-US">

<head>
    <title>Home</title>

    {meta}
</head>

<body>
    <main>
        <h1>Kale Ko</h1>

        <div id="about" class="section">
            <h2>About</h2>

            <p class="markdown">
                Hello, my name is Kale, and I am a self taught coder from the US.\
                <br>\
                <br>
                I love to code in HTML, JavaScript, CSS, Java, C#, Lua, and Markdown
            </p>
        </div>

        <div id="projects" class="section">
            <h2>Projects</h2>

            <p id="loadingprojects">Loading projects..</p>
            <p id="projectsloaded" class="hidden">Here are all my favorite projects</p>

            <div id="projectslist"></div>

            <script>
                fetch("https://api.github.com/users/Kale-Ko/repos?per_page=100", { headers: { Authorization: "token ghp_HVGVoRf9ET7NTuR" + "GILvZcwWTw89cuE2EErlr" } }).then(res => res.json()).then(data => {
                    var repos = []

                    data.forEach(repo => { if (repo.name != "Kale-Ko" && repo.stargazers_count > 0) repos.push(repo) })

                    repos.sort((a, b) => b.stargazers_count - a.stargazers_count)
                    repos.sort((a, b) => (a.archived == b.archived) ? 0 : (a.archived ? 1 : -1))

                    repos.forEach(repo => {
                        var element = document.createElement("p")
                        element.innerHTML = (repo.homepage != "" ? '<a href="' + repo.homepage + '">' + repo.name.replace(/-/g, " ") + "</a>" : repo.name.replace(/-/g, " ")) + " - " + repo.description + ' <a href="' + repo.html_url + '">(Source)</a>'

                        document.getElementById("projectslist").appendChild(element)
                    })

                    document.getElementById("projectsloaded").removeAttribute("class")
                    document.getElementById("loadingprojects").setAttribute("class", "hidden")
                })
            </script>
        </div>

        <div id="contact" class="section">
            <h2>Contact</h2>

            <p class="markdown">
                You can contact me either by [email](mailto:contact@kaleko.ga) or on [Discord](/discord)
            </p>
        </div>
    </main>

    {global}
</body>

</html>
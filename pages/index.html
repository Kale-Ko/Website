<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
    <title>Home</title>

    {meta}
</head>

<body>
    {nav}

    <main>
        <h1>Hello!</h1>

        <div id="about" class="section">
            <h2>About</h2>

            <p>
                Hi, my name is Kale. I am a self taught developer from the US.
                <br>
                <br>
                I know how to code in a wide variety of languages including Java, JavaScript, C++, and Python.
            </p>
        </div>

        <div id="projects" class="section">
            <h2>Featured Projects</h2>

            <p id="loadingProjects">Loading projects..</p>
            <div id="projectsList" class="hidden"></div>

            <script>
                fetch("/api/v5/github/pins").then(res => res.json()).then(repos => {
                    repos.forEach(repo => {
                        var element = document.createElement("p")
                        element.innerHTML = (repo.homepageUrl != "" && repo.homepageUrl != null ? '<a href="' + repo.homepageUrl + '">' + repo.name.replace(/-/g, " ") + "</a>" : repo.name.replace(/-/g, " ")) + " - " + repo.description + ' <a href="' + repo.url + '">(Source)</a>'

                        document.getElementById("projectsList").appendChild(element)
                    })

                    document.getElementById("loadingProjects").setAttribute("class", "hidden")
                    document.getElementById("projectsList").removeAttribute("class")
                })
            </script>
        </div>

        <div id="contact" class="section">
            <h2>Contact</h2>

            <p>You can contact me by&nbsp;<a href="javascript:openEmail()">email</a>&nbsp;or on&nbsp;<a href="/twitter">Twitter</a></p>

            <script>
                function openEmail() {
                    window.open("mailto:" + atob("Y29udGFjdEBrYWxla28uZ2E="))
                }
            </script>
        </div>
    </main>

    {global}
</body>

</html>